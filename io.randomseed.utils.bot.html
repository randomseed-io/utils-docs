<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>io.randomseed.utils.bot documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script><link rel="stylesheet" type="text/css" href="css/randomseed.css" /></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Random:utils</span> <span class="project-version">1.2.0</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="10_introduction.html"><div class="inner"><span>Introduction</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>io</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>randomseed</span></div></div></li><li class="depth-3"><a href="io.randomseed.utils.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>utils</span></div></a></li><li class="depth-4 branch current"><a href="io.randomseed.utils.bot.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>bot</span></div></a></li><li class="depth-4 branch"><a href="io.randomseed.utils.bus.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>bus</span></div></a></li><li class="depth-4 branch"><a href="io.randomseed.utils.crypto.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>crypto</span></div></a></li><li class="depth-4"><a href="io.randomseed.utils.db.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>db</span></div></a></li><li class="depth-5"><a href="io.randomseed.utils.db.types.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>types</span></div></a></li><li class="depth-4 branch"><a href="io.randomseed.utils.fs.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>fs</span></div></a></li><li class="depth-4 branch"><a href="io.randomseed.utils.ip.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ip</span></div></a></li><li class="depth-4 branch"><a href="io.randomseed.utils.log.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>log</span></div></a></li><li class="depth-4 branch"><a href="io.randomseed.utils.map.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>map</span></div></a></li><li class="depth-4 branch"><a href="io.randomseed.utils.nop-cache.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>nop-cache</span></div></a></li><li class="depth-4"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>reitit</span></div></div></li><li class="depth-5"><a href="io.randomseed.utils.reitit.http.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>http</span></div></a></li><li class="depth-4 branch"><a href="io.randomseed.utils.set.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>set</span></div></a></li><li class="depth-4 branch"><a href="io.randomseed.utils.time.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>time</span></div></a></li><li class="depth-4"><a href="io.randomseed.utils.validators.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>validators</span></div></a></li><li class="depth-5"><a href="io.randomseed.utils.validators.common.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>common</span></div></a></li><li class="depth-4 branch"><a href="io.randomseed.utils.var.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>var</span></div></a></li><li class="depth-4"><a href="io.randomseed.utils.vec.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>vec</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="io.randomseed.utils.bot.html#var-bot-ns"><div class="inner"><span>bot-ns</span></div></a></li><li class="depth-1"><a href="io.randomseed.utils.bot.html#var-bot.3F"><div class="inner"><span>bot?</span></div></a></li><li class="depth-1"><a href="io.randomseed.utils.bot.html#var-command"><div class="inner"><span>command</span></div></a></li><li class="depth-1"><a href="io.randomseed.utils.bot.html#var-current-ns-str"><div class="inner"><span>current-ns-str</span></div></a></li><li class="depth-1"><a href="io.randomseed.utils.bot.html#var-generic-control"><div class="inner"><span>generic-control</span></div></a></li><li class="depth-1"><a href="io.randomseed.utils.bot.html#var-generic-data-handler"><div class="inner"><span>generic-data-handler</span></div></a></li><li class="depth-1"><a href="io.randomseed.utils.bot.html#var-get-config"><div class="inner"><span>get-config</span></div></a></li><li class="depth-1"><a href="io.randomseed.utils.bot.html#var-get-data"><div class="inner"><span>get-data</span></div></a></li><li class="depth-1"><a href="io.randomseed.utils.bot.html#var-get-data.21"><div class="inner"><span>get-data!</span></div></a></li><li class="depth-1"><a href="io.randomseed.utils.bot.html#var-get-session"><div class="inner"><span>get-session</span></div></a></li><li class="depth-1"><a href="io.randomseed.utils.bot.html#var-handle-request"><div class="inner"><span>handle-request</span></div></a></li><li class="depth-1"><a href="io.randomseed.utils.bot.html#var-instance-config"><div class="inner"><span>instance-config</span></div></a></li><li class="depth-1"><a href="io.randomseed.utils.bot.html#var-load"><div class="inner"><span>load</span></div></a></li><li class="depth-1"><a href="io.randomseed.utils.bot.html#var-load-config"><div class="inner"><span>load-config</span></div></a></li><li class="depth-1"><a href="io.randomseed.utils.bot.html#var-parse-config"><div class="inner"><span>parse-config</span></div></a></li><li class="depth-1"><a href="io.randomseed.utils.bot.html#var-pause"><div class="inner"><span>pause</span></div></a></li><li class="depth-1"><a href="io.randomseed.utils.bot.html#var-ping"><div class="inner"><span>ping</span></div></a></li><li class="depth-1"><a href="io.randomseed.utils.bot.html#var-run.21"><div class="inner"><span>run!</span></div></a></li><li class="depth-1"><a href="io.randomseed.utils.bot.html#var-stop.21"><div class="inner"><span>stop!</span></div></a></li><li class="depth-1"><a href="io.randomseed.utils.bot.html#var-update-local-config.21"><div class="inner"><span>update-local-config!</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">io.randomseed.utils.bot</h1><h4 class="added">added in 1.0.0</h4><div class="doc"><div class="markdown"><p>Random utils, bot abstraction.</p>
</div></div><div class="public anchor" id="var-bot-ns"><h3>bot-ns</h3><div class="usage"><code>(bot-ns v id)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/randomseed-io/utils/tree/1.2.0/src/io/randomseed/utils/bot.clj#lines-28">view source</a></div></div><div class="public anchor" id="var-bot.3F"><h3>bot?</h3><div class="usage"><code>(bot? v)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/randomseed-io/utils/tree/1.2.0/src/io/randomseed/utils/bot.clj#lines-66">view source</a></div></div><div class="public anchor" id="var-command"><h3>command</h3><div class="usage"><code>(command wrk command &amp; args)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/randomseed-io/utils/tree/1.2.0/src/io/randomseed/utils/bot.clj#lines-203">view source</a></div></div><div class="public anchor" id="var-current-ns-str"><h3>current-ns-str</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/randomseed-io/utils/tree/1.2.0/src/io/randomseed/utils/bot.clj#lines-19">view source</a></div></div><div class="public anchor" id="var-generic-control"><h3>generic-control</h3><div class="usage"><code>(generic-control bot-session f wrk req handler-args)</code></div><div class="doc"><div class="markdown"><p>Common tasks which any bot should support.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/utils/tree/1.2.0/src/io/randomseed/utils/bot.clj#lines-128">view source</a></div></div><div class="public anchor" id="var-generic-data-handler"><h3>generic-data-handler</h3><div class="usage"><code>(generic-data-handler data bot-session)</code></div><div class="doc"><div class="markdown"><p>Handles additional data which are a result of a request. It’s like side effect for the request, regardless of its reply. When session object is returned then bot-specific data handlers should not interfere (processing is done) and just replace session with the returned one. When nil is returned then bot-specific data handlers should exit the loop and finish execution. All other data is passed as is.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/utils/tree/1.2.0/src/io/randomseed/utils/bot.clj#lines-155">view source</a></div></div><div class="public anchor" id="var-get-config"><h3>get-config</h3><div class="usage"><code>(get-config wrk)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/randomseed-io/utils/tree/1.2.0/src/io/randomseed/utils/bot.clj#lines-227">view source</a></div></div><div class="public anchor" id="var-get-data"><h3>get-data</h3><div class="usage"><code>(get-data wrk k &amp; args)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/randomseed-io/utils/tree/1.2.0/src/io/randomseed/utils/bot.clj#lines-208">view source</a></div></div><div class="public anchor" id="var-get-data.21"><h3>get-data!</h3><div class="usage"><code>(get-data! wrk k &amp; args)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/randomseed-io/utils/tree/1.2.0/src/io/randomseed/utils/bot.clj#lines-213">view source</a></div></div><div class="public anchor" id="var-get-session"><h3>get-session</h3><div class="usage"><code>(get-session wrk)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/randomseed-io/utils/tree/1.2.0/src/io/randomseed/utils/bot.clj#lines-228">view source</a></div></div><div class="public anchor" id="var-handle-request"><h3>handle-request</h3><div class="usage"><code>(handle-request bot-session f data-handler wrk req &amp; handler-args)</code></div><div class="doc"><div class="markdown"><p>Handles requests. Returns an Outcome object. Passes control to a chosen request handler f to prepare the response. Updates the returned map with data-handler if data is present in the outcome.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/utils/tree/1.2.0/src/io/randomseed/utils/bot.clj#lines-179">view source</a></div></div><div class="public anchor" id="var-instance-config"><h3>instance-config</h3><div class="usage"><code>(instance-config cfg instance-id)</code></div><div class="doc"><div class="markdown"><p>Creates an instance of a configuration for the given instance (if a bot is instantiable).</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/utils/tree/1.2.0/src/io/randomseed/utils/bot.clj#lines-36">view source</a></div></div><div class="public anchor" id="var-load"><h3>load</h3><div class="usage"><code>(load config-parser id)</code><code>(load config-parser id instance-id)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/randomseed-io/utils/tree/1.2.0/src/io/randomseed/utils/bot.clj#lines-72">view source</a></div></div><div class="public anchor" id="var-load-config"><h3>load-config</h3><div class="usage"><code>(load-config cfg-parser bot-id)</code><code>(load-config cfg-parser config-file bot-id)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/randomseed-io/utils/tree/1.2.0/src/io/randomseed/utils/bot.clj#lines-22">view source</a></div></div><div class="public anchor" id="var-parse-config"><h3>parse-config</h3><div class="usage"><code>(parse-config cfg)</code><code>(parse-config cfg instance-id)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/randomseed-io/utils/tree/1.2.0/src/io/randomseed/utils/bot.clj#lines-54">view source</a></div></div><div class="public anchor" id="var-pause"><h3>pause</h3><div class="usage"><code>(pause wrk)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/randomseed-io/utils/tree/1.2.0/src/io/randomseed/utils/bot.clj#lines-229">view source</a></div></div><div class="public anchor" id="var-ping"><h3>ping</h3><div class="usage"><code>(ping wrk)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/randomseed-io/utils/tree/1.2.0/src/io/randomseed/utils/bot.clj#lines-230">view source</a></div></div><div class="public anchor" id="var-run.21"><h3>run!</h3><div class="usage"><code>(run! wrk)</code><code>(run! bot-session cfg)</code><code>(run! bot-session cfg instance)</code></div><div class="doc"><div class="markdown"><p>Runs a bot by creating a worker thread with communication channels. After bot is successfully created it queries it for its updated configuration and replaces a local one with it.</p>
</div></div><div class="src-link"><a href="https://github.com/randomseed-io/utils/tree/1.2.0/src/io/randomseed/utils/bot.clj#lines-87">view source</a></div></div><div class="public anchor" id="var-stop.21"><h3>stop!</h3><div class="usage"><code>(stop! wrk)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/randomseed-io/utils/tree/1.2.0/src/io/randomseed/utils/bot.clj#lines-198">view source</a></div></div><div class="public anchor" id="var-update-local-config.21"><h3>update-local-config!</h3><div class="usage"><code>(update-local-config! wid)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/randomseed-io/utils/tree/1.2.0/src/io/randomseed/utils/bot.clj#lines-218">view source</a></div></div></div></body></html>